<a name="module_miot/service/alarmPhone"></a>

## miot/service/alarmPhone
针对门锁或传感器 设置报警电话逻辑

**Export**: public  
**Doc_name**: 报警电话设置模块  
**Doc_index**: 9  
**Doc_directory**: service  
**Since**: 10040  
**Example**  
```js
import { Service } from "miot";
Service.alarmPhone.addNewAlarmPhone('break_lock_alarm', Device.deviceID, 'miot', '13888888888').then((res) => {
  if (res && res.code == 0 && res.result.info_id) {
      alert('resolve success! ' + JSON.stringify(res));
  } else {
      alert('resolve fail! ' + JSON.stringify(res));
  }
}).catch((err) => {
  alert('reject ' + JSON.stringify(err));
});
```

* [miot/service/alarmPhone](#module_miot/service/alarmPhone)
    * [.IAlarmPhone](#module_miot/service/alarmPhone.IAlarmPhone)
        * [.addNewAlarmPhone(type, did, name, phone_number)](#module_miot/service/alarmPhone.IAlarmPhone+addNewAlarmPhone) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;Object&gt;</code>
        * [.editAlarmPhone(type, did, info_id, name, phone_number)](#module_miot/service/alarmPhone.IAlarmPhone+editAlarmPhone) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;Object&gt;</code>
        * [.deleteAlarmPhone(type, did, info_id)](#module_miot/service/alarmPhone.IAlarmPhone+deleteAlarmPhone) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;Object&gt;</code>
        * [.getAllAlarmPhone(types, did)](#module_miot/service/alarmPhone.IAlarmPhone+getAllAlarmPhone) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;Object&gt;</code>

<a name="module_miot/service/alarmPhone.IAlarmPhone"></a>

### miot/service/alarmPhone.IAlarmPhone
**Kind**: static interface of [<code>miot/service/alarmPhone</code>](#module_miot/service/alarmPhone)  

* [.IAlarmPhone](#module_miot/service/alarmPhone.IAlarmPhone)
    * [.addNewAlarmPhone(type, did, name, phone_number)](#module_miot/service/alarmPhone.IAlarmPhone+addNewAlarmPhone) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;Object&gt;</code>
    * [.editAlarmPhone(type, did, info_id, name, phone_number)](#module_miot/service/alarmPhone.IAlarmPhone+editAlarmPhone) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;Object&gt;</code>
    * [.deleteAlarmPhone(type, did, info_id)](#module_miot/service/alarmPhone.IAlarmPhone+deleteAlarmPhone) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;Object&gt;</code>
    * [.getAllAlarmPhone(types, did)](#module_miot/service/alarmPhone.IAlarmPhone+getAllAlarmPhone) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;Object&gt;</code>

<a name="module_miot/service/alarmPhone.IAlarmPhone+addNewAlarmPhone"></a>

#### iAlarmPhone.addNewAlarmPhone(type, did, name, phone_number) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;Object&gt;</code>
新增报警电话

**Kind**: instance method of [<code>IAlarmPhone</code>](#module_miot/service/alarmPhone.IAlarmPhone)  
**Returns**: <code>[ &#x27;Promise&#x27; ].&lt;Object&gt;</code> - 新增成功服务端会下发新的 info_id 用作唯一标识，开发者需要手动绑定 info_id与新增条目的关系
成功时：{"code":0,"message":"ok","result":{"info_id":<xxxxxx>}}
失败时：{"code":xxx, "message":"xxx" }  
**Since**: 10040  

| Param | Type | Description |
| --- | --- | --- |
| type | <code>string</code> | type包含以下几种字段    break_lock_alarm  (撬锁 10040新增)     hijack_alarm      (胁迫开锁，10040新增) |
| did | <code>string</code> | 设备id |
| name | <code>string</code> | 设置姓名 |
| phone_number | <code>string</code> | 设置电话 |

<a name="module_miot/service/alarmPhone.IAlarmPhone+editAlarmPhone"></a>

#### iAlarmPhone.editAlarmPhone(type, did, info_id, name, phone_number) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;Object&gt;</code>
编辑已存在的报警电话信息

**Kind**: instance method of [<code>IAlarmPhone</code>](#module_miot/service/alarmPhone.IAlarmPhone)  
**Returns**: <code>[ &#x27;Promise&#x27; ].&lt;Object&gt;</code> - 修改成功服务端会下发 info_id 确认修改的条目信息
成功时：{"code":0,"message":"ok","result":{"info_id":<xxxxxx>}}
失败时：{"code":xxx, "message":"xxx" }  
**Since**: 10040  

| Param | Type | Description |
| --- | --- | --- |
| type | <code>string</code> | type包含以下几种字段    break_lock_alarm  (撬锁 10040新增)     hijack_alarm      (胁迫开锁，10040新增) |
| did | <code>string</code> | 设备id |
| info_id | <code>string</code> | 唯一识别id |
| name | <code>string</code> | 设置姓名 |
| phone_number | <code>string</code> | 设置电话 |

<a name="module_miot/service/alarmPhone.IAlarmPhone+deleteAlarmPhone"></a>

#### iAlarmPhone.deleteAlarmPhone(type, did, info_id) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;Object&gt;</code>
删除已存在的报警电话信息

**Kind**: instance method of [<code>IAlarmPhone</code>](#module_miot/service/alarmPhone.IAlarmPhone)  
**Returns**: <code>[ &#x27;Promise&#x27; ].&lt;Object&gt;</code> - 修改成功服务端会下发 info_id 确认修改的条目信息
成功时：{"code":0,"message":"ok","result":{"info_id":<xxxxxx>}}
失败时：{"code":xxx, "message":"xxx" }  
**Since**: 10040  

| Param | Type | Description |
| --- | --- | --- |
| type | <code>string</code> | type包含以下几种字段    break_lock_alarm  (撬锁 10040新增)     hijack_alarm      (胁迫开锁，10040新增) |
| did | <code>string</code> | 设备id |
| info_id | <code>string</code> | 唯一识别id |

<a name="module_miot/service/alarmPhone.IAlarmPhone+getAllAlarmPhone"></a>

#### iAlarmPhone.getAllAlarmPhone(types, did) ⇒ <code>[ &#x27;Promise&#x27; ].&lt;Object&gt;</code>
获取所有的已设置的报警电话信息

**Kind**: instance method of [<code>IAlarmPhone</code>](#module_miot/service/alarmPhone.IAlarmPhone)  
**Returns**: <code>[ &#x27;Promise&#x27; ].&lt;Object&gt;</code> - 查询成功会返回所有的保存的信息
成功时：{"code":0,"message":"ok","result":{
          "break_lock_alarm":[{
            "info_id":"123456",
            "contact_name":"张三",
            "phone_number":"18513468888",
            "create_time":1589342399,
            "update_time":1589342399,
            "info_id":"testinfoid1"
           }],
           "hijack_alarm":[{
             "info_id":"123457",
             "contact_name":"张三",
             "phone_number":"18513468888",
             "create_time":1589342399,
             "update_time":1589342399,
             "info_id":"testinfoid2"
           }]
       }}
失败时：{"code":xxx, "message":"xxx" }  
**Since**: 10040  

| Param | Type | Description |
| --- | --- | --- |
| types | <code>array</code> | type包含以下几种字段   注意：此接口需要接受一个数组，如果查询多条可以使用 ["break_lock_alarm","hijack_alarm"]        查询单条可以使用 ["break_lock_alarm"]    break_lock_alarm  (撬锁 10040新增)     hijack_alarm      (胁迫开锁，10040新增) |
| did | <code>string</code> | 设备id |

