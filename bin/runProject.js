'use strict';require('graceful-fs').gracefulify(require('fs')),require('react-native/local-cli/server/checkNodeVersion')(),require('react-native/setupBabel')();var e=require('path'),r=require("fs"),t=require("./config/common"),i=t.project_dir,o=t.IDX_PATH,s=t.IDX_MOD,n=t.MOD_SDK,a=require("metro-resolver");a._miot_resolve=a.resolve,a.resolve=function(r,t,i){return r._miot_dirExists||(r._miot_dirExists=r.dirExists,r.dirExists=function(e){return!!e.startsWith(u)||r._miot_dirExists(e)},r._miot_doesFileExist=r.doesFileExist,r.doesFileExist=function(t){if(t.startsWith(u)){var i=e.relative(u,t);return!(i.indexOf(".")!=i.lastIndexOf(".")||!i.endsWith(".js")||i.startsWith("android.")||i.startsWith("ios.")||i.startsWith("common."))}return r._miot_doesFileExist(t)}),a._miot_resolve(r,t,i)};var u=e.join(i,"miot-sdk","native"),l=require("metro/src/node-haste/DependencyGraph");l._miot_load=l.load,l.load=function(e){return l._miot_load(e).then(function(e){var r=e._moduleCache;return r._miot_getModule=r.getModule,r.getModule=function(e){var t=r._miot_getModule(e);return null==t._sourceCode&&e.startsWith(u)&&(t._sourceCode=""),t},e})};var c=require('react-native/local-cli/util/Config').DEFAULT;new(0,require('metro-core').Terminal)(process.stdout);c.getTransformOptions=function(){var t={},a=r.readFileSync(e.join(i,"bin","config","modules"));a&&((JSON.parse(a.toString()||"{}").modules||[]).filter(function(e){return e&&e[s]==n}).forEach(function(r){var s=e.join(i,r[o]);t[e.resolve(s)]=!0}),a=null);return{preloadedModules:t,transform:{inlineRequires:{blacklist:t}}}},c.getTransformModulePath=function(){return e.join(i,"bin","config","transformer.js")},process.argv=["","","start","--reset-cache"],require('react-native/local-cli/cliEntry').run();